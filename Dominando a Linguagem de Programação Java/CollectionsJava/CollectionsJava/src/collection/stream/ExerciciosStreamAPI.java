package collection.stream;

import java.util.*;
import java.util.function.*;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class ExerciciosStreamAPI {

    public static void main(String[] args) {
        List<String> numerosAleatorios =
                Arrays.asList("1", "0", "4", "1", "2", "3", "9", "9", "6", "5");
/*================================Utilizando o ForEach Exemplo 01==========================*/
        System.out.println("Imprima todos os elementos dessa lista de String: ");
        numerosAleatorios.forEach(System.out::println);
/*================================MÃ©todo completo====================================
 *       numerosAleatorios.stream().forEach(new Consumer<String>() {
 *       ðŸ“– para utilizar o forEach Ã© necessÃ¡rio utilizar uma interface funcional
 *          @Override
 *          public void accept(String s) {
 *          ðŸ“– a utilizaÃ§Ã£o desse mÃ©todo vai pegar elemento por elemento do tipo String e vai imprimir um por um
 *              System.out.println(s);
 *            }
 *          });
 */
/*================================Usuando a simplificaÃ§Ã£o lambida=============================
 *         ðŸ“– Usando o mÃ©todo de lambida simplificando
 *         numerosAleatorios.stream().forEach(s -> System.out.println(s));
 */
/*================================Simplificando para mÃ©todo de referencia=============================
 *          Usando o forEach com o mÃ©todo liste nÃ£o Ã© necessÃ¡rio usar o stream
 *          Para maior simplificaÃ§Ã£o devemos transformar a lambida para um mÃ©todo de referÃªncia
 *          numerosAleatorios.forEach(System.out::println);
 */
/*================================Utilizando o ForEach Exemplo 02==========================*/
        System.out.println("Pegue os 5 primeiros nÃºmeros e coloque dentro de um Set:");
        numerosAleatorios.stream()
            .limit(5)
            .collect(Collectors.toSet())
            .forEach(System.out::println);
/*================================Adicionando a um objeto==========================
 *         Set<String> numerosAleatorios5Primeiros = numerosAleatorios.stream()
 *                 .limit(5)
 *                 .collect(Collectors.toSet());
 *         System.out.println(numerosAleatorios5Primeiros);
 */
/*================================Utilizando o ForEach Exemplo 03================================*/
        System.out.println("Transforme esta lista de String em uma lista de nÃºmeros inteiros.");
        List<Integer> numerosAleatoriosInteger = numerosAleatorios
                .stream()
                .map(Integer::parseInt)
                .collect(Collectors.toList());
        System.out.println(numerosAleatoriosInteger);
/*================================MÃ©todo completo====================================
 *         ðŸ“– Utilizando sem abstraÃ§Ã£o com o mÃ©todo completo
 *         System.out.println("Transforme esta lista de String em uma lista de nÃºmeros inteiros.");
 *         numerosAleatorios.stream()
 *                 .map(new Function<String, Interger>() {
 *                     @Override
 *                     public Integer apply(String s){
 *                         return Integer.parseInt(s);
 *                     }
 *                 })
 */
/*================================Lambida=========================================
 *
 *         ðŸ“– utilizando a simplificaÃ§Ã£o da lambida
 *         numerosAleatorios.stream()
 *                 .map(s -> Integer.parseInt(s);
 */
/*================================MÃ©todo de Referencia=========================================
 *
 *        ðŸ“– Utilizando mais simplifiocaÃ§Ã£o com referenciamento de metodo
 *         numerosAleatorios.stream()
 *                 .map(Integer::parseInt)
 *                 .collect(Collectors.toList())
 *                 .forEach(System.out::println);
 */
/*================================Armazenando em um Objeto====================================
 *
 *         ðŸ“– Simplificando para uma lista de inteiros utilizando um objeto para armazenar
 *         List<Integer> numerosAleatorios1 = numerosAleatorios
 *                 .stream()
 *                 .map(Integer::parseInt)
 *                 .collect(Collectors.toList());
 *                 .forEach(System.out::println);
 *
 *         ðŸ“– Simplificando para uma lista de inteiros utilizando um objeto para armazenar
 *         List<Integer> numerosAleatoriosInteger = numerosAleatorios
 *                 .stream()
 *                 .map(Integer::parseInt)
 *                 .collect(Collectors.toList());
 *         System.out.println(numerosAleatoriosInteger);
 *
 */
/*================================Utilizando o ForEach Exemplo 04================================*/
         System.out.println("Pegue os nÃºmeros pares e maiores que 2 e coloque em uma lista:");
         List<Integer> listParesMaioresQue2 = numerosAleatorios
                 .stream()
                 .map(Integer::parseInt)
                 .filter(i -> (i % 2 == 0 && i > 2))
                 .collect(Collectors.toList());
         System.out.println(listParesMaioresQue2);

/*================================MÃ©todo completo===============================
 *            ðŸ“– adicionado a um objeto o resultado
 *          List<Integer> listParesMaioresQue2 = numerosAleatorios.stream()
 *            ðŸ“– transformando em inteiro
 *                  .map(new Function<String, Object>() {
 *                      @Override
 *                      public Object apply(String i) {
 *                          return Integer.parseInt(i);
 *                      }
 *                  })
 *             ðŸ“– Fazendo o filtro para realizar a separaÃ§Ã£o de nÃºmeros pares e maiores que 2
 *                  .filter(new Predicate<Integer>() {
 *                      @Override
 *                      public boolean test(Integer i) {
 *                          if (i %2 ==0 && i>2)  return true;
 *                          return false;
 *                      }
 *                  })
 *              ðŸ“– como o mÃ©todo collect iremos fazer a retirada do que solicitamos e vamos adicionar em uma lista.
 *                  .collect(Collectors.toList());
 *          System.out.println(listParesMaioresQue2);
 */
/*================================Simplificando mÃ©todo map===============================
 *         System.out.println("Pegue os nÃºmeros pares e maiores que 2 e coloque em uma lista:");
 *         ðŸ“– adicionado a um objeto o resultado
 *         List<Integer> listParesMaioresQue2 = numerosAleatorios.stream()
 *         ðŸ“– transformando em inteiro simplificando o mÃ©todo map
 *                 .map(Integer::parseInt)
 *                 .filter(new Predicate<Integer>() {
 *                     @Override
 *                     public boolean test(Integer i) {
 *                         if (i %2 ==0 && i>2)  return true;
 *                         return false;
 *                     }
 *                 })
 *                 .collect(Collectors.toList());
 *         System.out.println(listParesMaioresQue2);
 */
/*================================Usando a simplificaÃ§Ã£o lambida=============================
 *         System.out.println("Pegue os nÃºmeros pares e maiores que 2 e coloque em uma lista:");
 *        ðŸ“– adicionado a um objeto o resultado
 *         List<Integer> listParesMaioresQue2 = numerosAleatorios.stream()
 *        ðŸ“– transformando em inteiro simplificado
 *                 .map(Integer::parseInt)
 *        ðŸ“– simplificando o filtro usando o lambida
 *                 .filter(i -> (i %2 ==0 && i>2))
 *                 .collect(Collectors.toList());
 *         System.out.println(listParesMaioresQue2);
 */
/*================================Utilizando o ForEach Exemplo 05================================*/
        System.out.println("Mostre a mÃ©dia dos nÃºmeros: ");
        numerosAleatorios.stream()
                .mapToInt(Integer::parseInt)
                .average()
                .ifPresent(System.out::println);
/*================================MÃ©todo completo================================
 *      System.out.println("Mostre a mÃ©dia dos nÃºmeros: ");
 *      numerosAleatorios.stream()
 *          ðŸ“– MÃ©todo mapToInt pega cada elemento do fluxo para realizar manipulaÃ§Ãµes no mesmo.
 *           .mapToInt(new ToIntFunction<String>() {
 *                 @Override
 *                 public int applyAsInt(String s) {
 *                      return Integer.parseInt(s);
 *                     }
 *                 });
 *           ðŸ“– SimplificaÃ§Ã£o do mÃ©todo mapToInt com a lambida.
 *           .mapToInt(s -> Integer.parseInt(s));
 *           ðŸ“– simplificando para um referenciador de mÃ©todo.
 *           .mapToInt(Integer::parseInt)
 *           ðŸ“– Utilizamos o mÃ©todo avarage OptionalDouble para nÃ£o termos um retorno nulo, jÃ¡ que vamos utilizar nÃºmeros inteiros.
 *           .average()
 *           ðŸ“– Ao realizar a mÃ©dia o ifPresent vai identificar se Ã© um valor diferente de inteiro vai transformar em Double e adicionar a variÃ¡vel.
 *           .ifPresent(new DoubleConsumer() {
 *                @Override
 *                public void accept(double v) {
 *                System.out.println(v);
 *                     }
 *                 });
 *           ðŸ“– Simplificamos conforme a regra do lambida.
 *            .ifPresent(v -> System.out.println(v))
 *           ðŸ“– Simplificamos para um referencial de mÃ©todo.
 *           .ifPresent(System.out::println)
 *
 **/
/*================================Utilizando o ForEach Exemplo 06================================*/
        System.out.println("Remova os valores Ã­mpares: ");
        List<Integer> numerosAleatoriosInteger1 = numerosAleatorios
                .stream()
                .map(Integer::parseInt)
                .collect(Collectors.toList());
        numerosAleatoriosInteger1.removeIf(integer -> (integer % 2 != 0));
        System.out.println(numerosAleatoriosInteger1);
/*================================MÃ©todo completo================================
 *         List<Integer> numerosAleatoriosInteger1 = numerosAleatorios.stream()
 *                 .map(Integer::parseInt)
 *                 .collect(Collectors.toList());
 *         ðŸ“– Chamamos a variÃ¡vel com a lista de inteiros
 *         ðŸ“– Para removermos chamamos o mÃ©todo de list removeIf
 *         numerosAleatoriosInteger1.removeIf(new Predicate<Integer>() {
 *             @Override
 *             public boolean test(Integer integer) {
 *                 if (integer % 2 != 0) return true;
 *                 return false;
 *             }
 *         });
 *         System.out.println(numerosAleatoriosInteger1);
 */
/*================================Lambida================================
 *         List<Integer> numerosAleatoriosInteger1 = numerosAleatorios.stream()
 *                 .map(Integer::parseInt)
 *                 .collect(Collectors.toList());
 *         ðŸ“– chamos a variavel com a lista de inteiros
 *         ðŸ“– para removermos chamamos o mÃ©todo de list removeIf
 *         ðŸ“– Simplifica-se o mÃ©todo conforme a lambida
 *         numerosAleatoriosInteger1.removeIf(integer -> (integer % 2 != 0));
 *         System.out.println(numerosAleatoriosInteger1);
 */
/*================================Exemplos fora da aula para estudar================================
 *         System.out.println("Ignore os 3 primeiros elementos da lista e imprima o restante:");
 *         numerosAleatoriosInteger.stream()
 *                 .skip(3)
 *                 .forEach(System.out::println);
 *
 *         long countNumerosUnicos = numerosAleatoriosInteger.stream()
 *                 .distinct()
 *                 .count();
 *         System.out.println("Retirando os nÃºmeros repetidos da lista, quantos nÃºmeros ficam? " + countNumerosUnicos);
 *
 *         System.out.print("Mostre o menor valor da lista: ");
 *         numerosAleatoriosInteger.stream()
 *                 .mapToInt(Integer::intValue)
 *                 .min()
 *                 .ifPresent(System.out::println);
 *
 *         System.out.print("Mostre o maior valor da lista: ");
 *         numerosAleatoriosInteger.stream()
 *                 .mapToInt(Integer::intValue)
 *                 .max()
 *                 .ifPresent(System.out::println);;
 *
 *         int somaDosNumerosPares = numerosAleatoriosInteger.stream()
 *                 .filter(i -> (i % 2 == 0))
 *                 .mapToInt(Integer::intValue)
 *                 .sum();
 *         System.out.println("Pegue apenas os nÃºmeros pares e some: " + somaDosNumerosPares);
 *
 *         System.out.println("Mostre a lista na ordem nÃºmerica: ");
 *         List<Integer> numerosOrdemNatural = numerosAleatoriosInteger.stream()
 *                 .sorted(Comparator.naturalOrder())
 *                 .collect(Collectors.toList());
 *         System.out.println(numerosOrdemNatural);
 *
 *         System.out.println("Agrupe os valores Ã­mpares mÃºltiplos de 3 ou de 5:");
 * //        dica: collect(Collectors.groupingBy(new Function())
 *         Map<Boolean, List<Integer>> collectNumerosMultiplosDe3E5 = numerosAleatoriosInteger.stream()
 *                 .collect(Collectors.groupingBy(i -> (i % 3 == 0 || i % 5 == 0)));
 *         System.out.println(collectNumerosMultiplosDe3E5);
 *     }
 * }
 **/
    }}